!function(){var e=!1;function t(e){try{return(e||"").toString().toLowerCase().replace(/[^\w\s]/g," ").replace(/\s+/g," ").trim()}catch(e){return""}}function r(e){try{for(var t=e,r=0;r<6&&t;r++){var a=t.querySelector&&t.querySelector(".search-cms-wrapper-2, .search-cms-wrapper");if(a)return a;t=t.parentElement}var n=document.querySelector(".search-cms-wrapper-2, .search-cms-wrapper");if(n)return n}catch(e){}return null}function a(e){try{var a=(e.getAttribute("data-input")||"").toString().match(/^search-(.+)$/);if(!a)return;var n=a[1],c=r(e)||document,o=t(e.value||""),s=Array.prototype.slice.call(c.querySelectorAll('[data-search="cms-item-'+n+'"], [data-search="cms_item_'+n+'"], .search-cms-item-2, .search-cms-item'));if(console.log("[CMS-SEARCH] handle input",{key:n,term:o,items:s.length}),s.length>0&&console.log("[CMS-SEARCH] Found items:",s.map(function(e){var t=e.querySelector(".search-name");return t?t.textContent:"No name element"})),""===o){for(var i=0;i<s.length;i++)s[i].style.display="none";var l=c.querySelector('[data-div="noResult-'+n+'"]');if(l&&(l.style.display="none"),"true"===(e.getAttribute("data-url")||"").toString().toLowerCase())try{var u=new URL(window.location.href);u.searchParams.delete("search-"+n),window.history.pushState({},"",u)}catch(e){}try{var d=c.querySelector('.search-cms-wrapper-2, .search-cms-wrapper, [role="list"]');d&&(d.style.display="none");var h=c.querySelector('[role="list"], .search-cms-list, .w-dyn-items');h&&(h.style.display="none")}catch(e){}return}for(var m=0,y=0;y<s.length;y++){var p=s[y],v=p.querySelector(".search-name"),S=v?t(v.textContent||""):"";S||(S=t(p.textContent||"")),-1!==S.indexOf(o)?(p.style.display="",m++,console.log("[CMS-SEARCH] Match found:",S,"for term:",o)):p.style.display="none"}for(var f=s.length,g=0,w=0;w<s.length;w++)"none"===getComputedStyle(s[w]).display&&g++;var C=c.querySelector('[data-div="noResult-'+n+'"], [data-div="noResult_'+n+'"]');C&&(C.style.display=f>0&&g===f?"":"none");try{var q=c.querySelector('.search-cms-wrapper-2, .search-cms-wrapper, [role="list"]');q&&(q.style.display=m>0&&o?"block":"none");var A=c.querySelector('[role="list"], .search-cms-list, .w-dyn-items');A&&(A.style.display=m>0&&o?"block":"none")}catch(e){}if("true"===(e.getAttribute("data-url")||"").toString().toLowerCase())try{var R=new URL(window.location.href);R.searchParams.set("search-"+n,e.value),window.history.pushState({},"",R)}catch(e){}}catch(e){console.error("[CMS-SEARCH] Error:",e)}}function n(){try{if(e)return;e=!0,console.log("[CMS-SEARCH] init binding events"),document.addEventListener("input",function(e){var t=e.target;try{if(!t||!t.matches||!t.matches('[data-input^="search-"]'))return}catch(e){return}console.log("[CMS-SEARCH] input event fired"),a(t)},!0),document.addEventListener("keyup",function(e){var t=e.target;try{if(!t||!t.matches||!t.matches('[data-input^="search-"]'))return}catch(e){return}console.log("[CMS-SEARCH] keyup event fired"),a(t)},!0),document.addEventListener("focusin",function(e){var a=e.target;try{if(!a||!a.matches||!a.matches('[data-input^="search-"]'))return}catch(e){return}var n=(a.getAttribute("data-input")||"").toString().match(/^search-(.+)$/);if(n){var c=n[1],o=r(a)||document,s=o.querySelectorAll('[data-search="cms-item-'+c+'"], [data-search="cms_item_'+c+'"]'),i=t(a.value||"");if(i){for(var l=0;l<s.length;l++){var u=s[l],d=u.querySelector(".search-name"),h=-1!==t(d?d.textContent||"":u.textContent||"").indexOf(i);u.style.display=h?"":"none"}var m=o.querySelector('.search-cms-wrapper-2, .search-cms-wrapper, [role="list"]');m&&(m.style.display="block")}}},!0),document.addEventListener("focusout",function(e){var t=e.target;try{if(!t||!t.matches||!t.matches('[data-input^="search-"]'))return}catch(e){return}var a=(t.getAttribute("data-input")||"").toString().match(/^search-(.+)$/);if(a){a[1];var n=(r(t)||document).querySelector('.search-cms-wrapper-2, .search-cms-wrapper, [role="list"]');n&&(n.style.display="none")}},!0);for(var n=document.querySelectorAll('[data-input^="search-"]'),c=0;c<n.length;c++){var o=n[c],s=(o.getAttribute("data-input")||"").match(/^search-(.+)$/);if(s){var i=s[1],l=(r(o)||document).querySelector('[data-div="noResult-'+i+'"], [data-div="noResult_'+i+'"]');l&&(l.style.display="none");try{if("true"===(o.getAttribute("data-url")||"").toString().toLowerCase()){var u=new URLSearchParams(window.location.search).get("search-"+i);u&&(o.value=u,a(o))}}catch(e){}try{a(o)}catch(e){}}}}catch(e){}}window.CmsSearch={init:n,handleInput:a,normalizeText:t},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n):n()}();