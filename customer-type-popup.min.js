!function(){function t(t){try{return(t||"").toString().toLowerCase().replace(/\s+/g," ").trim()}catch(t){return""}}function e(){return"private"===d()}function r(){return"business"===d()}function a(){try{const t=document.getElementById("nav-private"),r=document.getElementById("nav-business");t&&t.classList&&t.classList.toggle("stp-btn-active",e()),r&&r.classList&&r.classList.toggle("stp-btn-active",!e());const a=document.querySelector(".customer-type-switch");a&&a.classList&&(a.classList.toggle("is-private",e()),a.classList.toggle("is-business",!e()))}catch(t){}}var n=!1;function c(t){try{const a=["#privat",'[data-customer-type="privat"]','[data-customer-segment="privat"]','[data-list="privat"]',".collection-list-privat"].concat(["#gewerbe",'[data-customer-type="gewerbe"]','[data-customer-segment="gewerbe"]','[data-list="gewerbe"]',".collection-list-gewerbe"]);for(var e=t;e&&e!==document;){for(var r=0;r<a.length;r++)try{if(e.matches&&e.matches(a[r]))return e}catch(t){}e=e.parentElement}return null}catch(t){return null}}function o(){try{const n=["#privat",'[data-customer-type="privat"]','[data-customer-segment="privat"]','[data-list="privat"]',".collection-list-privat"],c=["#gewerbe",'[data-customer-type="gewerbe"]','[data-customer-segment="gewerbe"]','[data-list="gewerbe"]',".collection-list-gewerbe"],o=e()?n:c;for(var t=0;t<o.length;t++){var r=document.querySelector(o[t]);if(r)try{var a=window.getComputedStyle(r);if("none"!==a.display&&"hidden"!==a.visibility)return r}catch(t){return r}}return null}catch(t){return null}}function s(t){try{for(var e=t,r=0;r<6&&e;r++){var a=e.querySelector&&e.querySelector(".search-cms-wrapper");if(a)return a;e=e.parentElement}var n=document.querySelector(".search-cms-wrapper");if(n)return n}catch(t){}return null}function i(t){try{return!0}catch(t){return!0}}Object.create(null),Object.create(null);function l(e){try{try{localStorage&&"1"===localStorage.getItem("CMS_SEARCH_DEBUG")}catch(t){}var a=(e.getAttribute("data-input")||"").toString().match(/^search-(.+)$/);if(!a)return;var n=a[1],l=c(e)||o()||document,u=s(e)||l||document,d=t(e.value||""),y=u||document,m=Array.prototype.slice.call(y.querySelectorAll('[data-search="cms-item-'+n+'"], [data-search="cms_item_'+n+'"], .search-cms-item, .w-dyn-item')),p=Array.prototype.slice.call(y.querySelectorAll('[data-text="search-'+n+'"], [data-text="search_'+n+'"], [data-text*="search"]'));try{console.warn("[CMS-SEARCH] handle input",{type:r()?"business":"private",key:n,term:d,items:m.length,nodesForKey:p.length})}catch(t){}if(""===d){for(var h=0;h<m.length;h++)m[h].style.display="none";var v=u.querySelector('[data-div="noResult-'+n+'"]');if(v&&(v.style.display="none"),"true"===(e.getAttribute("data-url")||"").toString().toLowerCase())try{var f=new URL(window.location.href);f.searchParams.delete("search-"+n),window.history.pushState({},"",f)}catch(t){}try{var g=u.querySelector('.search-cms-wrapper, [role="list"]');g&&(g.style.display="none");var w=u.querySelector('[role="list"], .search-cms-list, .w-dyn-items');w&&(w.style.display="none")}catch(t){}return}var S=new WeakSet,b=0;if(p.length){for(var L=0;L<p.length;L++){var E=p[L],_=E.closest('[data-search^="cms-item-"], [data-search^="cms_item_"]');if(_){S.add(_);var C=t(E.textContent||"");C||(C=t(_.textContent||""));var A=-1!==C.indexOf(d)&&i();if(_.style.display=A?"":"none",A){try{"none"===getComputedStyle(_).display&&(_.style.display="block")}catch(t){}b++}}}for(var k=0;k<m.length;k++){var I=m[k];S.has(I)||(I.style.display="none")}}else for(var R=0;R<m.length;R++){var q=m[R],x=-1!==t(q.textContent||"").indexOf(d)&&i();if(q.style.display=x?"":"none",x){try{"none"===getComputedStyle(q).display&&(q.style.display="block")}catch(t){}b++}}for(var T=m.length,O=0,B=0;B<m.length;B++)"none"===getComputedStyle(m[B]).display&&O++;var G=u.querySelector('[data-div="noResult-'+n+'"], [data-div="noResult_'+n+'"]')||l.querySelector?.('[data-div="noResult-'+n+'"], [data-div="noResult_'+n+'"]');G&&(G.style.display=T>0&&O===T?"":"none");try{var U=u.classList&&u.classList.contains("search-cms-wrapper")?u:u.querySelector('.search-cms-wrapper, [role="list"]')||m[0]&&m[0].parentElement;U&&(U.style.display=b>0&&d?"block":"none");var M=u.querySelector('[role="list"], .search-cms-list, .w-dyn-items');M&&(M.style.display=b>0&&d?"block":"none")}catch(t){}if("true"===(e.getAttribute("data-url")||"").toString().toLowerCase())try{var P=new URL(window.location.href);P.searchParams.set("search-"+n,e.value),window.history.pushState({},"",P)}catch(t){}}catch(t){}}function u(t){!function(t){try{const e=Date.now()+1728e5;localStorage.setItem("solarTool_customerType",JSON.stringify({type:t,expiresAt:e}))}catch(t){}}("business"===t?"business":"private"),a();try{window.solarGrid&&(window.solarGrid.updateCurrentTotalPrice&&window.solarGrid.updateCurrentTotalPrice(),window.solarGrid.updateOverviewTotalPrice&&window.solarGrid.updateOverviewTotalPrice(),(window.solarGrid.ensureWebflowFormsMapped||window.solarGrid.generateHiddenCartForms)?.call(window.solarGrid))}catch(t){}}function d(){try{const t=localStorage.getItem("solarTool_customerType");if(!t)return null;const e=JSON.parse(t);return e&&e.type?"number"==typeof e.expiresAt&&Date.now()>e.expiresAt?(localStorage.removeItem("solarTool_customerType"),null):"private"===e.type?"private":"business":null}catch(t){return null}}function y(){const t=document.getElementById("customer-type-overlay");t&&(t.style.display="none",t.setAttribute("aria-hidden","true"))}function m(){const t=document.getElementById("nav-private"),e=document.getElementById("nav-business");t&&t.addEventListener("click",function(){u("private")}),e&&e.addEventListener("click",function(){u("business")});if(document.getElementById("customer-type-overlay")){const t=d(),e=document.getElementById("stp-private"),r=document.getElementById("stp-business");e&&e.addEventListener("click",function(){u("private"),y()}),r&&r.addEventListener("click",function(){u("business"),y()}),t||function(){const t=document.getElementById("customer-type-overlay");t&&(t.style.display="flex",t.setAttribute("aria-hidden","false"))}()}a();try{!function(){try{if(n)return;n=!0;try{console.warn("[CMS-SEARCH] init binding events")}catch(t){}try{localStorage&&localStorage.getItem("CMS_SEARCH_DEBUG")}catch(t){}document.addEventListener("input",function(t){var e=t.target;try{if(!e||!e.matches||!e.matches('[data-input^="search-"]'))return}catch(t){return}try{console.warn("[CMS-SEARCH] input event fired")}catch(t){}l(e)},!0),document.addEventListener("keyup",function(t){var e=t.target;try{if(!e||!e.matches||!e.matches('[data-input^="search-"]'))return}catch(t){return}try{console.warn("[CMS-SEARCH] keyup event fired")}catch(t){}l(e)},!0),document.addEventListener("focusin",function(t){var e=t.target;try{if(!e||!e.matches||!e.matches('[data-input^="search-"]'))return}catch(t){return}try{l(e)}catch(t){}},!0),document.addEventListener("focusout",function(t){var e=t.target;try{if(!e||!e.matches||!e.matches('[data-input^="search-"]'))return}catch(t){return}try{var r=(e.getAttribute("data-input")||"").toString().match(/^search-(.+)$/);if(!r)return;r[1];var a=(s(e)||c(e)||o()||document).querySelector('.search-cms-wrapper, [role="list"]');a&&(a.style.display="none")}catch(t){}},!0);for(var t=document.querySelectorAll('[data-input^="search-"]'),e=0;e<t.length;e++){var r=t[e],a=(r.getAttribute("data-input")||"").match(/^search-(.+)$/);if(a){var i=a[1],u=(c(r)||document).querySelector('[data-div="noResult-'+i+'"], [data-div="noResult_'+i+'"]');u&&(u.style.display="none");try{if("true"===(r.getAttribute("data-url")||"").toString().toLowerCase()){var d=new URLSearchParams(window.location.search).get("search-"+i);d&&(r.value=d,l(r))}}catch(t){}try{l(r)}catch(t){}}}}catch(t){}}()}catch(t){}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",m):m()}(),function(){function t(t){try{document.cookie="ukc_customer_type="+encodeURIComponent(t)+";path=/;max-age=31536000;SameSite=Lax",localStorage.setItem("ukc_customer_type",t)}catch(t){}}try{var e=location&&location.hostname||"";if(e.endsWith("unterkonstruktion.de")){var r=function(){try{var t=document.cookie.match(/(?:^|; )ukc_customer_type=([^;]+)/);if(t)return decodeURIComponent(t[1]);try{var e=window.localStorage.getItem("ukc_customer_type");if(e)return e}catch(t){}try{var r=window.localStorage.getItem("solarTool_customerType");if(r){var a=JSON.parse(r);if(a&&a.type)return"business"===a.type?"business":"private"}}catch(t){}return"private"}catch(t){return"private"}}();try{t(r)}catch(t){}document.addEventListener("click",function(t){var e=t&&t.target&&t.target.closest&&t.target.closest("a[href]");if(e){var a=e.getAttribute("href")||"";if(a){var n=new URL(a,location.href);n.hostname&&n.hostname.endsWith("foxycart.com")&&(n.searchParams.set("customer_type",r),e.setAttribute("href",n.toString()))}}},!0)}else if(e.endsWith("foxycart.com")){var a=null;try{a=new URL(location.href).searchParams.get("customer_type")}catch(t){a=null}a&&t(a)}}catch(t){}}(),function(){function t(t){try{var e=t&&t.querySelector&&t.querySelector('input[name="customer_type"]');e&&(e.value=function(){try{var t=document.cookie.match(/(?:^|; )ukc_customer_type=([^;]+)/);if(t)return decodeURIComponent(t[1]);var e=localStorage.getItem("ukc_customer_type");if(e)return e;try{var r=localStorage.getItem("solarTool_customerType");if(r){var a=JSON.parse(r);if(a&&a.type)return"business"===a.type?"business":"private"}}catch(t){}}catch(t){}return"private"}())}catch(t){}}function e(t){try{var e=t&&t.getAttribute&&t.getAttribute("action")||"";return/foxycart\.com\/cart/i.test(e||"")}catch(t){return!1}}function r(){try{for(var r=Array.prototype.slice.call(document.querySelectorAll("form")),a=0;a<r.length;a++){var n=r[a];if(e(n)){t(n);try{n.addEventListener("submit",function(e){t(e.currentTarget||n)},!0)}catch(t){}}}}catch(t){}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",r):r()}();