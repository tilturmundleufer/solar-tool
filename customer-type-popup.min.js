!function(){function t(){try{const t=o();document.querySelectorAll('[data-customer-type="privat"], [data-customer-type="gewerbe"], .customer-type-container').forEach(e=>{e&&(e.classList.toggle("is-private",t),e.classList.toggle("is-business",!t))})}catch(t){}}function e(){try{const t=localStorage.getItem("solarTool_customerType");if(!t)return null;const e=JSON.parse(t);return e&&e.type?"number"==typeof e.expiresAt&&Date.now()>e.expiresAt?(localStorage.removeItem("solarTool_customerType"),null):"private"===e.type?"private":"business":null}catch(t){return null}}function o(){return"private"===e()}function r(e){try{!function(t){try{const e={type:t,expiresAt:Date.now()+2592e6};localStorage.setItem("solarTool_customerType",JSON.stringify(e))}catch(t){}}(e),t(),n(),window.solarGrid&&(window.solarGrid.updateCurrentTotalPrice&&window.solarGrid.updateCurrentTotalPrice(),window.solarGrid.updateOverviewTotalPrice&&window.solarGrid.updateOverviewTotalPrice(),(window.solarGrid.ensureWebflowFormsMapped||window.solarGrid.generateHiddenCartForms)?.call(window.solarGrid))}catch(t){}}function n(){try{const t=o(),e=document.querySelectorAll('[data-customer-type="privat"], .customer-type-private'),r=document.querySelectorAll('[data-customer-type="gewerbe"], .customer-type-business');e.forEach(e=>{e&&e.classList.toggle("active",t)}),r.forEach(e=>{e&&e.classList.toggle("active",!t)})}catch(t){}}function c(){try{!function(){try{document.addEventListener("click",function(t){const e=t.target.closest("[data-customer-type]");if(!e)return;const o=e.getAttribute("data-customer-type");"privat"===o||"private"===o?r("private"):"gewerbe"!==o&&"business"!==o||r("business")})}catch(t){}}(),t(),n()}catch(t){}}!function(){function e(t){try{const e={type:t,expiresAt:Date.now()+2592e6};localStorage.setItem("solarTool_customerType",JSON.stringify(e))}catch(t){}}function o(){try{const t=function(){try{const t=localStorage.getItem("solarTool_customerType");if(!t)return null;const e=JSON.parse(t);return e&&e.type?"number"==typeof e.expiresAt&&Date.now()>e.expiresAt?(localStorage.removeItem("solarTool_customerType"),null):e.type:null}catch(t){return null}}();if(!t)return;const e=new URL(window.location.href);e.searchParams.get("customer-type")!==t&&(e.searchParams.set("customer-type",t),window.history.replaceState({},"",e))}catch(t){}}!function(){try{const o=new URL(window.location.href).searchParams.get("customer-type");"private"!==o&&"business"!==o||(e(o),t(),n())}catch(t){}}(),o(),window.addEventListener("storage",function(e){"solarTool_customerType"===e.key&&(t(),n(),o())});const r=window.setCustomerType;window.setCustomerType=function(t){r&&r(t),e(t),o()}}(),function(){function t(){try{const t=e();if(!t)return;document.querySelectorAll('form[action*="foxycart.com"]').forEach(e=>{const o=e.querySelector('input[name="customer_type"], input[name="customer-type"]');o&&(o.value=t)})}catch(t){}}t(),window.addEventListener("storage",function(e){"solarTool_customerType"===e.key&&t()})}(),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",c):c()}();