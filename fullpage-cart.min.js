!function(){function e(e){try{return(e||0).toFixed(2).replace(".",",")+" €"}catch(e){return"0,00 €"}}function t(){try{return!function(){try{return"business"===(localStorage.getItem("solarTool_customerType")&&JSON.parse(localStorage.getItem("solarTool_customerType")).type)}catch(e){return!1}}()}catch(e){return!0}}var a={productIdToKey:{},variantIdToKey:{}};function n(e,t){return t&&a.variantIdToKey[t]||e&&a.productIdToKey[e]||null}function r(){return document.querySelector(".w-commerce-commercecartlist")||document.querySelector(".w-commerce-commercecartcontainerwrapper")}function c(){var e=r();return e?Array.from(e.querySelectorAll('.w-commerce-commercecartitem, [data-node-type="commerce-cart-item"]')).map(function(e){var t=e.getAttribute("data-commerce-product-id")||"",a=e.getAttribute("data-commerce-sku-id")||"";if(!t){var r=e.querySelector("[data-commerce-product-id]");r&&(t=r.getAttribute("data-commerce-product-id")||"")}if(!a){var c=e.querySelector("[data-commerce-sku-id]");if(c&&(a=c.getAttribute("data-commerce-sku-id")||""),!a){var i=e.querySelector('[data-wf-cart-action="remove-item"]');i&&(a=i.getAttribute("data-commerce-sku-id")||"")}}var o=e.querySelector('input[type="number"], input[data-node-type*="quantity"], .w-commerce-commercecartquantity input, input[name*="quantity" i]'),u=1;try{var d=parseInt(o&&o.value,10);u=isFinite(d)&&d>0?d:1}catch(e){}for(var l="",m=[".w-commerce-commercecartproductname",'[data-node-type*="product" i]',".text-block-18",".text-block-5","h1,h2,h3,h4,div,span"],y=0;y<m.length;y++){var p=e.querySelector(m[y]);if(p&&(p.textContent||"").trim()){l=(p.textContent||"").trim();break}}var s="",v=e.querySelector("img");return v&&(s=v.getAttribute("src")||v.getAttribute("data-src")||""),{el:e,productId:t,variantId:a,quantity:u,name:l,img:s,key:n(t,a)}}):[]}function i(e,t){return document.querySelector('form[data-node-type="commerce-add-to-cart-form"][data-commerce-product-id="'+e+'"]')||document.querySelector('form[data-node-type="commerce-add-to-cart-form"][data-commerce-sku-id="'+t+'"]')}function o(e){return new Promise(function(t){var a=!1,n=r(),c=setTimeout(function(){a||(a=!0,t())},e||1500);if(n){var i=new MutationObserver(function(){if(!a){a=!0,clearTimeout(c);try{i.disconnect()}catch(e){}t()}});try{i.observe(n,{childList:!0,subtree:!0})}catch(e){}}})}function u(e,t){try{for(var a=[],n=e;n&&n!==document.documentElement;){var r=null;try{r=window.getComputedStyle(n)}catch(e){}!r||"none"!==r.display&&"hidden"!==r.visibility||(a.push({node:n,old:n.getAttribute("style")}),n.style.display="block",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-9999px",n.style.top="-9999px",n.style.width="1px",n.style.height="1px"),n=n.parentElement}try{t&&t()}finally{setTimeout(function(){a.forEach(function(e){null==e.old?e.node.removeAttribute("style"):e.node.setAttribute("style",e.old)})},50)}}catch(e){try{t&&t()}catch(e){}}}function d(e){try{e.dispatchEvent(new MouseEvent("pointerdown",{bubbles:!0,cancelable:!0}))}catch(e){}try{e.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0,cancelable:!0}))}catch(e){}try{e.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0,cancelable:!0}))}catch(e){}try{e.dispatchEvent(new MouseEvent("pointerup",{bubbles:!0,cancelable:!0}))}catch(e){}try{e.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0}))}catch(t){try{e.click()}catch(e){}}}function l(e){for(var t=['div.paypal-button[data-funding-source="'+e+'"]','div[role="link"][data-funding-source="'+e+'"]','[data-wf-paypal-button] [data-funding-source="'+e+'"]','.paypal-buttons [data-funding-source="'+e+'"]'],a=0;a<t.length;a++){var n=document.querySelector(t[a]);if(n)return n}return null}function m(e,t){try{var a=e.querySelector('input[name="commerce-add-to-cart-quantity-input"]');a&&(a.value=t)}catch(e){}try{e.querySelectorAll("select[required]").forEach(function(e){if(!e.value){var t=e.querySelector('option[value]:not([value=""])');t&&(e.value=t.value)}})}catch(e){}var n=e.querySelector('input[data-node-type="commerce-add-to-cart-button"], [data-wf-cart-action="add-item"], [data-wf-cart-action*="add" i], input[type="submit"], button[type="submit"]');n&&n.click()}function y(e){for(var t=['[data-wf-cart-action="remove-item"]','[data-wf-cart-action*="remove" i]','[data-node-type="commerce-cart-remove-link"]','[data-node-type*="remove" i]','a[role="button"][aria-label*="remove" i]','button[aria-label*="remove" i]',".w-commerce-commercecartremovebutton",".w-commerce-commercecartremove"],a=0;a<t.length;a++){var n=e.querySelector(t[a]);if(n)return n}try{var r=Array.from(e.querySelectorAll("a,button,div,span")).filter(function(e){var t=(e.textContent||"").trim().toLowerCase();return"entfernen"===t||"remove"===t||t.indexOf("entfernen")>=0||t.indexOf("remove")>=0});if(r.length)return r[0]}catch(e){}return null}function p(e){var t=(e||"").toString().trim();t=t.replace(/\u00a0/g," ").replace(/[^0-9,\.]/g,""),/,\d{2}$/.test(t)&&(t=t.replace(/\./g,"").replace(",","."));var a=parseFloat(t);return isFinite(a)?a:0}function s(){var a=c(),r=document.getElementById("fp-cart-items");if(r){if(r.innerHTML="",a.length)try{var s=document.getElementById("fp-payments-box");s&&(s.style.display="block")}catch(e){}else{r.innerHTML='<div class="fp-empty">Ihr Warenkorb ist leer.</div>';try{var v=document.getElementById("fp-payments-box");v&&(v.style.display="none")}catch(e){}}a.forEach(function(t){var a=document.createElement("div");a.className="fp-cart-item";var c=document.createElement("img");c.src=t.img||"",c.alt=t.name||"";var u=document.createElement("div"),d=document.createElement("div");d.className="title",d.textContent=t.name||"Produkt";var l=document.createElement("div");l.className="meta";try{var s=t.key||n(t.productId,t.variantId)||"",v=window.VE||window.VE_VALUES;v&&s&&v[s]?l.textContent="VE: "+v[s]:l.textContent=""}catch(e){l.textContent=""}u.appendChild(d),u.appendChild(l);var f=document.createElement("div");f.style.display="flex",f.style.alignItems="center",f.style.gap="12px";var b=document.createElement("div");b.className="qty";var g=document.createElement("button");g.className="btn outline",g.style.width="36px",g.textContent="−";var h=document.createElement("input");h.type="number",h.min="0",h.value=String(t.quantity);var w=document.createElement("button");w.className="btn outline",w.style.width="36px",w.textContent="+";var M=t.el.querySelector('.w-commerce-commercecartitemprice, [data-node-type*="price" i], .text-block-5'),I=p(M?M.textContent:"0")*(t.quantity||1),E=document.createElement("div");E.className="item-price",E.textContent=e(I);var C=document.createElement("button");function k(e){try{var a=t.el.querySelector('input[type="number"], input[data-node-type*="quantity"], .w-commerce-commercecartquantity input, input[name*="quantity" i]');a&&(a.value=e,a.dispatchEvent(new Event("change",{bubbles:!0})))}catch(e){}}C.className="btn outline",C.textContent="Entfernen",b.appendChild(g),b.appendChild(h),b.appendChild(w),f.appendChild(b),f.appendChild(E),f.appendChild(C),a.appendChild(c),a.appendChild(u),a.appendChild(f),g.addEventListener("click",async function(){var e=parseInt(h.value,10)||0,t=Math.max(0,e-1);h.value=String(t),k(t),await o(1500)}),w.addEventListener("click",async function(){var e=(parseInt(h.value,10)||0)+1;h.value=String(e),k(e),await o(1500)}),h.addEventListener("change",async function(){var e=parseInt(h.value,10);if(!isFinite(e)||e<0)h.value=String(t.quantity);else{var a=e-t.quantity;0!==a&&await async function(e,t){if(0!==t){if(t>0){var a=i(e.productId,e.variantId);if(!a)return;var n=o(1500);return m(a,t),void await n}var r=e.el.querySelector('input[type="number"], input[data-node-type*="quantity"], .w-commerce-commercecartquantity input, input[name*="quantity" i]');if(r){var c=parseInt(r.value,10)||1,u=Math.max(0,c+t);r.value=u;try{r.dispatchEvent(new Event("change",{bubbles:!0}))}catch(e){}await o(1500)}else{var d=y(e.el);if(d&&(d.click(),await o(1500),e.quantity+t>0)){var l=i(e.productId,e.variantId);if(l){var p=o(1500);m(l,e.quantity+t),await p}}}}}(t,a)}}),C.addEventListener("click",async function(){var e=y(t.el);e&&(e.click(),await o(1500))}),r.appendChild(a)})}var b=function(e){var t=document.querySelector('.w-commerce-commercecartordervalue, [data-node-type*="ordervalue" i]'),a=0;if(t&&(a=p(t.textContent||"")),a>0)return{subtotal:a,reliable:!0};var n=0,r=!1;return e.forEach(function(e){var t=e.el.querySelector('.w-commerce-commercecartitemprice, [data-node-type*="price" i], .text-block-5');if(t){var a=p(t.textContent||"");a>0&&(n+=a,r=!0)}}),{subtotal:n,reliable:r}}(a);!function(a){var n=a||0,r=document.getElementById("fp-summary-note"),c=document.getElementById("fp-vat-line");if(t()){try{document.getElementById("fp-subtotal").textContent=e(n)}catch(e){}r&&(r.textContent="Bei den angebeben Preisen handelt es sich um Nettobeträge. Privatkunden profitieren von 0% MwSt Gemäß §12 Abs. 3 UstG"),c&&(c.textContent="")}else{var i=.19*n,o=n+i;try{document.getElementById("fp-subtotal").textContent=e(n)}catch(e){}r&&(r.textContent="Firmenkunden wird die MwSt im Bestellprozess berechnet."),c&&(c.textContent="zzgl. 19% MwSt: "+e(i)+" • Brutto: "+e(o))}}(b.subtotal),function(){try{var e=document.getElementById("fp-checkout-slot");if(e){e.innerHTML="";var t=document.createElement("button");t.className="btn primary",t.textContent="Weiter zur Kasse",t.addEventListener("click",function(){f()}),e.appendChild(t)}}catch(M){}try{var a=document.getElementById("fp-quick-slot");if(a){a.innerHTML="";var n=document.createElement("button");n.className="btn pay-dark";var r=document.createElement("span");r.className="pay-icon";var c=(navigator.userAgent||"").toLowerCase(),i="Pay with browser.";/safari/.test(c)&&!/chrome|android/.test(c)?(i="Pay with Apple Pay",r.innerHTML="",r.style.fontFamily="-apple-system",r.style.fontSize="18px"):/android|chrome|crios/.test(c)?(i="Pay with Google Pay",r.innerHTML="",r.style.background="url(https://www.gstatic.com/instantbuy/svg/dark_gpay.svg) no-repeat center/contain"):r.style.background="url(https://www.gstatic.com/instantbuy/svg/dark_gpay.svg) no-repeat center/contain",n.appendChild(r);var o=document.createElement("span");o.textContent=i,n.appendChild(o),n.addEventListener("click",function(){try{var e=document.querySelector('[data-node-type="commerce-cart-quick-checkout-button"], .w-commerce-commercecartquickcheckoutbutton');e&&e.click()}catch(e){}}),a.appendChild(n)}}catch(I){}try{var m=document.getElementById("fp-paypal-slot");if(m){function y(e,t,a){var n=document.createElement("button");n.className="btn "+t;var r=document.createElement("img");r.className="pay-icon",r.alt="",r.src=a,n.appendChild(r);var c=document.createElement("span");return c.textContent=e,n.appendChild(c),n}m.innerHTML="";var p="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMTAwIDMyIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWluWU1pbiBtZWV0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGZpbGw9IiMwMDVEQTAiIGQ9Ik0gMzkuODcxIDE4Ljc3MiBDIDM3Ljc4IDE4Ljc3MiAzNS44NDMgMTguMjc4IDM0LjI3MiAxNy40MjUgTCAzNC44MSAxMy45MzUgQyAzNi40MDkgMTQuNzY5IDM4LjA1MSAxNS4yNjMgMzkuODI2IDE1LjI2MyBDIDQxLjgwOSAxNS4yNjMgNDIuNjYxIDE0LjU0NCA0Mi42NjEgMTMuMjg0IEMgNDIuNjYxIDEwLjQ1IDM0LjM0IDExLjY0MSAzNC4zNCA1LjU5IEMgMzQuMzQgMi41MyAzNi4zMTkgMC4wNTUgNDAuODg1IDAuMDU1IEMgNDIuNjM5IDAuMDU1IDQ0LjU0OSAwLjQxNiA0NS45NDYgMC45OTkgTCA0NS40NzQgNC4zOTUgQyA0My45ODkgMy45MjYgNDIuNDgxIDMuNjMzIDQxLjEwOCAzLjYzMyBDIDM4Ljg2IDMuNjMzIDM4LjI3NSA0LjM5NSAzOC4yNzUgNS4zNjQgQyAzOC4yNzUgOC4xNzUgNDYuNTk4IDYuODk1IDQ2LjU5OCAxMy4wMTMgQyA0Ni41NzYgMTYuNTY5IDQ0LjEwMSAxOC43NzIgMzkuODcxIDE4Ljc3MiBaIj48L3BhdGg+PC9zdmc+",s="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMjQgMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTguMjc1IDEyLjUxMkMyLjcuLiIvPjwvc3ZnPg==",v=y("Pay with PayPal","paypal-blue","https://www.paypalobjects.com/webstatic/icon/pp258.png");v.addEventListener("click",function(){try{var e=l("paypal");if(e)return void u(e,function(){d(e)});var t=document.querySelector("[data-wf-paypal-button] iframe.component-frame, .paypal-buttons iframe.component-frame");if(t&&t.contentWindow)return void t.contentWindow.postMessage({event:"click"},"*");var a=document.querySelector('[aria-label*="Pay with PayPal" i]');a&&u(a,function(){d(a)})}catch(e){}}),m.appendChild(v);var b=document.getElementById("fp-paypal-sepa");if(b){b.innerHTML="";var g=y("Pay with SEPA","sepa",p);g.addEventListener("click",function(){try{var e=l("sepa")||document.querySelector('[aria-label*="SEPA" i], [aria-label="sepa" i]');e&&u(e,function(){d(e)})}catch(e){}}),b.appendChild(g)}var h=document.getElementById("fp-paypal-card");if(h){h.innerHTML="";var w=y("Debit or Credit Card","card",s);w.addEventListener("click",function(){try{var e=l("card")||document.querySelector('[aria-label*="Credit Card" i], [aria-label*="Kreditkarte" i]');e&&u(e,function(){d(e)})}catch(e){}}),h.appendChild(w)}}}catch(E){}}()}function v(){!function(){try{[window.PRODUCT_MAP||window.POPUP_PRODUCT_MAP_NETTO||{},window.PRODUCT_MAP_BRUTTO||window.POPUP_PRODUCT_MAP_BRUTTO||{}].forEach(function(e){Object.keys(e||{}).forEach(function(t){var n=e[t];n&&(n.productId&&(a.productIdToKey[n.productId]=t),n.variantId&&(a.variantIdToKey[n.variantId]=t))})})}catch(e){}}();var e=document.getElementById("fp-cart-notice");e&&(e.textContent="Preise netto angezeigt; Kundentyp-Steuerung aktiv.");var t=document.getElementById("fp-clear-all");t&&t.addEventListener("click",async function(){for(var e=0;;){var t=c();if(!t.length||e++>50)break;var a=y(t[0].el);if(!a)break;a.click(),await o(1500)}});var n=document.getElementById("fp-checkout");n&&n.addEventListener("click",function(){f()});var i=r();if(i)try{new MutationObserver(function(){s()}).observe(i,{childList:!0,subtree:!0})}catch(e){}try{window.CartCompatibility&&"function"==typeof window.CartCompatibility.schedule&&window.CartCompatibility.schedule(200)}catch(e){}s()}function f(){for(var e=['[data-node-type*="checkout" i]',".w-commerce-commercecartcheckoutbutton",'a[href*="checkout" i]'],t=0;t<e.length;t++){var a=document.querySelector(e[t]);if(a)try{return void a.click()}catch(e){}}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",v):v()}();