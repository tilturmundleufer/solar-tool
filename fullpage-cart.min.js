!function(){function t(t){try{return(t||0).toFixed(2).replace(".",",")+" €"}catch(t){return"0,00 €"}}function e(){try{return!function(){try{return"business"===(localStorage.getItem("solarTool_customerType")&&JSON.parse(localStorage.getItem("solarTool_customerType")).type)}catch(t){return!1}}()}catch(t){return!0}}function a(t){try{var e=document.getElementById("fp-cart-notice");if(!e)return;var a=e.getAttribute("data-old")||e.textContent||"";e.getAttribute("data-old")||e.setAttribute("data-old",a),e.textContent=t,setTimeout(function(){try{e.textContent=e.getAttribute("data-old")||a}catch(t){}},3e3)}catch(t){}}var n={productIdToKey:{},variantIdToKey:{}};function r(t,e){return e&&n.variantIdToKey[e]||t&&n.productIdToKey[t]||null}function c(){return document.querySelector(".w-commerce-commercecartlist")||document.querySelector(".w-commerce-commercecartcontainerwrapper")}function i(){var t=c();return t?Array.from(t.querySelectorAll('.w-commerce-commercecartitem, [data-node-type="commerce-cart-item"]')).map(function(t){var e=t.getAttribute("data-commerce-product-id")||"",a=t.getAttribute("data-commerce-sku-id")||"";if(!e){var n=t.querySelector("[data-commerce-product-id]");n&&(e=n.getAttribute("data-commerce-product-id")||"")}if(!a){var c=t.querySelector("[data-commerce-sku-id]");if(c&&(a=c.getAttribute("data-commerce-sku-id")||""),!a){var i=t.querySelector('[data-wf-cart-action="remove-item"]');i&&(a=i.getAttribute("data-commerce-sku-id")||"")}}var o=t.querySelector('input[type="number"], input[data-node-type*="quantity"], .w-commerce-commercecartquantity input, input[name*="quantity" i]'),u=1;try{var d=parseInt(o&&o.value,10);u=isFinite(d)&&d>0?d:1}catch(t){}for(var l="",m=[".w-commerce-commercecartproductname",'[data-node-type*="product" i]',".text-block-18",".text-block-5","h1,h2,h3,h4,div,span"],y=0;y<m.length;y++){var s=t.querySelector(m[y]);if(s&&(s.textContent||"").trim()){l=(s.textContent||"").trim();break}}var p="",v=t.querySelector("img");return v&&(p=v.getAttribute("src")||v.getAttribute("data-src")||""),{el:t,productId:e,variantId:a,quantity:u,name:l,img:p,key:r(e,a)}}):[]}function o(t,e){return document.querySelector('form[data-node-type="commerce-add-to-cart-form"][data-commerce-product-id="'+t+'"]')||document.querySelector('form[data-node-type="commerce-add-to-cart-form"][data-commerce-sku-id="'+e+'"]')}function u(t){return new Promise(function(e){var a=!1,n=c(),r=setTimeout(function(){a||(a=!0,e())},t||1500);if(n){var i=new MutationObserver(function(){if(!a){a=!0,clearTimeout(r);try{i.disconnect()}catch(t){}e()}});try{i.observe(n,{childList:!0,subtree:!0})}catch(t){}}})}function d(t,e){try{for(var a=[],n=t;n&&n!==document.documentElement;){var r=null;try{r=window.getComputedStyle(n)}catch(t){}!r||"none"!==r.display&&"hidden"!==r.visibility||(a.push({node:n,old:n.getAttribute("style")}),n.style.display="block",n.style.visibility="hidden",n.style.opacity="0",n.style.position="fixed",n.style.left="-9999px",n.style.top="-9999px",n.style.width="1px",n.style.height="1px"),n=n.parentElement}try{e&&e()}finally{setTimeout(function(){a.forEach(function(t){null==t.old?t.node.removeAttribute("style"):t.node.setAttribute("style",t.old)})},50)}}catch(t){try{e&&e()}catch(t){}}}function l(t){try{t.dispatchEvent(new MouseEvent("pointerdown",{bubbles:!0,cancelable:!0}))}catch(t){}try{t.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0,cancelable:!0}))}catch(t){}try{t.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0,cancelable:!0}))}catch(t){}try{t.dispatchEvent(new MouseEvent("pointerup",{bubbles:!0,cancelable:!0}))}catch(t){}try{t.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0}))}catch(e){try{t.click()}catch(t){}}try{t.dispatchEvent(new KeyboardEvent("keydown",{key:"Enter",code:"Enter",bubbles:!0,cancelable:!0}))}catch(t){}try{t.dispatchEvent(new KeyboardEvent("keyup",{key:"Enter",code:"Enter",bubbles:!0,cancelable:!0}))}catch(t){}}function m(t){for(var e=['div.paypal-button[data-funding-source="'+t+'"]','div[role="link"][data-funding-source="'+t+'"]','[data-wf-paypal-button] [data-funding-source="'+t+'"]','.paypal-buttons [data-funding-source="'+t+'"]'],a=0;a<e.length;a++){var n=document.querySelector(e[a]);if(n)return n}return null}function y(t,e){var a=function(){var t=[];try{Array.from(document.querySelectorAll("[data-wf-paypal-button], .paypal-buttons, .w-commerce-commercecartcontainer, .w-commerce-commercecartcontainerwrapper, .w-commerce-commercecartwrapper")).forEach(function(e){try{var a=window.getComputedStyle(e);if(!a)return;"none"!==a.display&&"hidden"!==a.visibility||(t.push({node:e,old:e.getAttribute("style")}),e.style.display="block",e.style.visibility="visible",e.style.opacity="0.01",e.style.pointerEvents="auto",e.style.position="fixed",e.style.left="0",e.style.top="0",e.style.width="1px",e.style.height="1px")}catch(t){}});try{window.dispatchEvent(new Event("resize"))}catch(t){}try{document.body&&document.body.offsetHeight}catch(t){}}catch(t){}return function(){try{t.forEach(function(t){null==t.old?t.node.removeAttribute("style"):t.node.setAttribute("style",t.old)})}catch(t){}}}();return new Promise(function(a){var n=Date.now();!function r(){try{var c=m(t)||document.querySelector('div.paypal-button[role="link"][data-funding-source="'+t+'"]');if(c)return a(c);var i=document.querySelector("[data-wf-paypal-button] iframe.component-frame, .paypal-buttons iframe.component-frame");if(i)return a(i)}catch(t){}if(Date.now()-n>=(e||1e4))return a(null);setTimeout(r,200)}()}).then(function(t){try{a&&a()}catch(t){}return t})}function s(t,e){try{var a=t.querySelector('input[name="commerce-add-to-cart-quantity-input"]');a&&(a.value=e)}catch(t){}try{t.querySelectorAll("select[required]").forEach(function(t){if(!t.value){var e=t.querySelector('option[value]:not([value=""])');e&&(t.value=e.value)}})}catch(t){}var n=t.querySelector('input[data-node-type="commerce-add-to-cart-button"], [data-wf-cart-action="add-item"], [data-wf-cart-action*="add" i], input[type="submit"], button[type="submit"]');n&&n.click()}function p(t){for(var e=['[data-wf-cart-action="remove-item"]','[data-wf-cart-action*="remove" i]','[data-node-type="commerce-cart-remove-link"]','[data-node-type*="remove" i]','a[role="button"][aria-label*="remove" i]','button[aria-label*="remove" i]',".w-commerce-commercecartremovebutton",".w-commerce-commercecartremove"],a=0;a<e.length;a++){var n=t.querySelector(e[a]);if(n)return n}try{var r=Array.from(t.querySelectorAll("a,button,div,span")).filter(function(t){var e=(t.textContent||"").trim().toLowerCase();return"entfernen"===e||"remove"===e||e.indexOf("entfernen")>=0||e.indexOf("remove")>=0});if(r.length)return r[0]}catch(t){}return null}function v(t){var e=(t||"").toString().trim();e=e.replace(/\u00a0/g," ").replace(/[^0-9,\.]/g,""),/,\d{2}$/.test(e)&&(e=e.replace(/\./g,"").replace(",","."));var a=parseFloat(e);return isFinite(a)?a:0}function f(){var n=i(),c=document.getElementById("fp-cart-items");if(c){if(c.innerHTML="",n.length)try{var f=document.getElementById("fp-payments-box");f&&(f.style.display="block")}catch(t){}else{c.innerHTML='<div class="fp-empty">Ihr Warenkorb ist leer.</div>';try{var h=document.getElementById("fp-payments-box");h&&(h.style.display="none")}catch(t){}}n.forEach(function(e){var a=document.createElement("div");a.className="fp-cart-item";var n=document.createElement("img");n.src=e.img||"",n.alt=e.name||"";var i=document.createElement("div"),d=document.createElement("div");d.className="title",d.textContent=e.name||"Produkt";var l=document.createElement("div");l.className="meta";try{var m=e.key||r(e.productId,e.variantId)||"",y=window.VE||window.VE_VALUES;y&&m&&y[m]?l.textContent="VE: "+y[m]:l.textContent=""}catch(t){l.textContent=""}i.appendChild(d),i.appendChild(l);var f=document.createElement("div");f.className="fp-right-cell",f.style.display="flex",f.style.alignItems="center",f.style.gap="12px";var h=document.createElement("div");h.className="qty";var b=document.createElement("button");b.className="btn outline",b.style.width="36px",b.textContent="−";var g=document.createElement("input");g.type="number",g.min="0",g.value=String(e.quantity);var w=document.createElement("button");w.className="btn outline",w.style.width="36px",w.textContent="+";var E=e.el.querySelector('.w-commerce-commercecartitemprice, [data-node-type*="price" i], .text-block-5'),I=v(E?E.textContent:"0")*(e.quantity||1),M=document.createElement("div");M.className="item-price",M.textContent=t(I);var C=document.createElement("button");function k(t){try{var a=e.el.querySelector('input[type="number"], input[data-node-type*="quantity"], .w-commerce-commercecartquantity input, input[name*="quantity" i]');a&&(a.value=t,a.dispatchEvent(new Event("change",{bubbles:!0})))}catch(t){}}C.className="btn outline remove-btn",C.textContent="Entfernen",h.appendChild(b),h.appendChild(g),h.appendChild(w),f.appendChild(h),f.appendChild(M),f.appendChild(C),a.appendChild(n),a.appendChild(i),a.appendChild(f),b.addEventListener("click",async function(){var t=parseInt(g.value,10)||0,e=Math.max(0,t-1);g.value=String(e),k(e),await u(1500)}),w.addEventListener("click",async function(){var t=(parseInt(g.value,10)||0)+1;g.value=String(t),k(t),await u(1500)}),g.addEventListener("change",async function(){var t=parseInt(g.value,10);if(!isFinite(t)||t<0)g.value=String(e.quantity);else{var a=t-e.quantity;0!==a&&await async function(t,e){if(0!==e){if(e>0){var a=o(t.productId,t.variantId);if(!a)return;var n=u(1500);return s(a,e),void await n}var r=t.el.querySelector('input[type="number"], input[data-node-type*="quantity"], .w-commerce-commercecartquantity input, input[name*="quantity" i]');if(r){var c=parseInt(r.value,10)||1,i=Math.max(0,c+e);r.value=i;try{r.dispatchEvent(new Event("change",{bubbles:!0}))}catch(t){}await u(1500)}else{var d=p(t.el);if(d&&(d.click(),await u(1500),t.quantity+e>0)){var l=o(t.productId,t.variantId);if(l){var m=u(1500);s(l,t.quantity+e),await m}}}}}(e,a)}}),C.addEventListener("click",async function(){var t=p(e.el);t&&(t.click(),await u(1500))}),c.appendChild(a)})}var g=function(t){var e=document.querySelector('.w-commerce-commercecartordervalue, [data-node-type*="ordervalue" i]'),a=0;if(e&&(a=v(e.textContent||"")),a>0)return{subtotal:a,reliable:!0};var n=0,r=!1;return t.forEach(function(t){var e=t.el.querySelector('.w-commerce-commercecartitemprice, [data-node-type*="price" i], .text-block-5');if(e){var a=v(e.textContent||"");a>0&&(n+=a,r=!0)}}),{subtotal:n,reliable:r}}(n);!function(a){var n=a||0,r=document.getElementById("fp-summary-note"),c=document.getElementById("fp-vat-line");if(e()){try{document.getElementById("fp-subtotal").textContent=t(n)}catch(t){}r&&(r.textContent="Bei den angebeben Preisen handelt es sich um Nettobeträge. Privatkunden profitieren von 0% MwSt Gemäß §12 Abs. 3 UstG"),c&&(c.textContent="")}else{var i=.19*n,o=n+i;try{document.getElementById("fp-subtotal").textContent=t(n)}catch(t){}r&&(r.textContent="Firmenkunden wird die MwSt im Bestellprozess berechnet."),c&&(c.textContent="zzgl. 19% MwSt: "+t(i)+" • Brutto: "+t(o))}}(g.subtotal),function(){try{var t=document.getElementById("fp-checkout-slot");if(t){t.innerHTML="";var e=document.createElement("button");e.className="btn primary",e.textContent="Weiter zur Kasse",e.addEventListener("click",function(){b()}),t.appendChild(e)}}catch(x){}try{var n=document.getElementById("fp-quick-slot");if(n){n.innerHTML="";var r=document.createElement("button");r.className="btn pay-dark";var c=document.createElement("span");c.className="pay-icon";var i=(navigator.userAgent||"").toLowerCase(),o="Pay with browser.";/safari/.test(i)&&!/chrome|android/.test(i)?(o="Pay with Apple Pay",c.innerHTML="",c.style.fontFamily="-apple-system",c.style.fontSize="18px"):/android|chrome|crios/.test(i)?(o="Pay with Google Pay",c.innerHTML="",c.style.background="url(https://www.gstatic.com/instantbuy/svg/dark_gpay.svg) no-repeat center/contain"):c.style.background="url(https://www.gstatic.com/instantbuy/svg/dark_gpay.svg) no-repeat center/contain",r.appendChild(c);var u=document.createElement("span");u.textContent=o,r.appendChild(u),r.addEventListener("click",function(){try{var t=document.querySelector('[data-node-type="commerce-cart-quick-checkout-button"], .w-commerce-commercecartquickcheckoutbutton');t&&t.click()}catch(t){}}),n.appendChild(r)}}catch(N){}try{var s=document.getElementById("fp-paypal-slot");if(s){s.innerHTML="";try{var p=document.querySelector("[data-wf-paypal-button]");if(p&&!p.getAttribute("data-fp-mounted")){p.setAttribute("data-fp-mounted","1"),p.style.display="block",p.style.opacity="1",p.style.visibility="visible",p.style.position="static",p.style.width="100%",s.appendChild(p);var v=document.getElementById("fp-paypal-sepa");v&&(v.style.display="none");var f=document.getElementById("fp-paypal-card");return void(f&&(f.style.display="none"))}}catch(S){}function h(t,e,a){var n=document.createElement("button");n.className="btn "+e;var r=document.createElement("img");r.className="pay-icon",r.alt="",r.src=a,n.appendChild(r);var c=document.createElement("span");return c.textContent=t,n.appendChild(c),n}var g="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMTAwIDMyIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWluWU1pbiBtZWV0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGZpbGw9IiMwMDVEQTAiIGQ9Ik0gMzkuODcxIDE4Ljc3MiBDIDM3Ljc4IDE4Ljc3MiAzNS44NDMgMTguMjc4IDM0LjI3MiAxNy40MjUgTCAzNC44MSAxMy45MzUgQyAzNi40MDkgMTQuNzY5IDM4LjA1MSAxNS4yNjMgMzkuODI2IDE1LjI2MyBDIDQxLjgwOSAxNS4yNjMgNDIuNjYxIDE0LjU0NCA0Mi42NjEgMTMuMjg0IEMgNDIuNjYxIDEwLjQ1IDM0LjM0IDExLjY0MSAzNC4zNCA1LjU5IEMgMzQuMzQgMi41MyAzNi4zMTkgMC4wNTUgNDAuODg1IDAuMDU1IEMgNDIuNjM5IDAuMDU1IDQ0LjU0OSAwLjQxNiA0NS45NDYgMC45OTkgTCA0NS40NzQgNC4zOTUgQyA0My45ODkgMy45MjYgNDIuNDgxIDMuNjMzIDQxLjEwOCAzLjYzMyBDIDM4Ljg2IDMuNjMzIDM4LjI3NSA0LjM5NSAzOC4yNzUgNS4zNjQgQyAzOC4yNzUgOC4xNzUgNDYuNTk4IDYuODk1IDQ2LjU5OCAxMy4wMTMgQyA0Ni41NzYgMTYuNTY5IDQ0LjEwMSAxOC43NzIgMzkuODcxIDE4Ljc3MiBaIj48L3BhdGg+PC9zdmc+",w="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMjQgMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTguMjc1IDEyLjUxMkMyLjcuLiIvPjwvc3ZnPg==",E=h("Pay with PayPal","paypal-blue","https://www.paypalobjects.com/webstatic/icon/pp258.png");E.addEventListener("click",async function(){try{E.disabled=!0;var t=m("paypal")||document.querySelector('div.paypal-button.paypal-button-number-0[role="link"][data-funding-source="paypal"]');if(t||(t=await y("paypal",1e4)),!t)return void a("PayPal ist noch nicht bereit. Bitte erneut versuchen.");if(t.tagName&&"iframe"===t.tagName.toLowerCase()){try{return void(t.contentWindow&&t.contentWindow.postMessage({event:"click"},"*"))}catch(t){}return void a("Bitte den PayPal-Button im eingebetteten Bereich klicken.")}d(t,function(){try{t.focus&&t.focus()}catch(t){}l(t)})}catch(t){}finally{try{E.disabled=!1}catch(t){}}}),s.appendChild(E);var I=document.getElementById("fp-paypal-sepa");if(I){I.innerHTML="";var M=h("Pay with SEPA","sepa",g);M.addEventListener("click",async function(){try{M.disabled=!0;var t=m("sepa")||document.querySelector('div.paypal-button[role="link"][data-funding-source="sepa"], [aria-label*="SEPA" i], [aria-label="sepa" i]');if(t||(t=await y("sepa",1e4)),!t)return void a("SEPA ist noch nicht bereit. Bitte erneut versuchen.");if(t.tagName&&"iframe"===t.tagName.toLowerCase()){try{return void(t.contentWindow&&t.contentWindow.postMessage({event:"click"},"*"))}catch(t){}return void a("Bitte SEPA im PayPal-Bereich direkt auswählen.")}d(t,function(){try{t.focus&&t.focus()}catch(t){}l(t)})}catch(t){}finally{try{M.disabled=!1}catch(t){}}}),I.appendChild(M)}var C=document.getElementById("fp-paypal-card");if(C){C.innerHTML="";var k=h("Debit or Credit Card","card",w);k.addEventListener("click",async function(){try{k.disabled=!0;var t=m("card")||document.querySelector('div.paypal-button[role="link"][data-funding-source="card"], [aria-label*="Credit Card" i], [aria-label*="Kreditkarte" i]');if(t||(t=await y("card",1e4)),!t)return void a("Kartenzahlung ist noch nicht bereit. Bitte erneut versuchen.");if(t.tagName&&"iframe"===t.tagName.toLowerCase()){try{return void(t.contentWindow&&t.contentWindow.postMessage({event:"click"},"*"))}catch(t){}return void a("Bitte Karte direkt im PayPal-Bereich wählen.")}d(t,function(){try{t.focus&&t.focus()}catch(t){}l(t)})}catch(t){}finally{try{k.disabled=!1}catch(t){}}}),C.appendChild(k)}}}catch(A){}}()}function h(){!function(){try{[window.PRODUCT_MAP||window.POPUP_PRODUCT_MAP_NETTO||{},window.PRODUCT_MAP_BRUTTO||window.POPUP_PRODUCT_MAP_BRUTTO||{}].forEach(function(t){Object.keys(t||{}).forEach(function(e){var a=t[e];a&&(a.productId&&(n.productIdToKey[a.productId]=e),a.variantId&&(n.variantIdToKey[a.variantId]=e))})})}catch(t){}}();var t=document.getElementById("fp-cart-notice");t&&(t.textContent="Preise netto angezeigt; Kundentyp-Steuerung aktiv.");var e=document.getElementById("fp-clear-all");e&&e.addEventListener("click",async function(){for(var t=0;;){var e=i();if(!e.length||t++>50)break;var a=p(e[0].el);if(!a)break;a.click(),await u(1500)}});var a=document.getElementById("fp-checkout");a&&a.addEventListener("click",function(){b()});var r=c();if(r)try{new MutationObserver(function(){f()}).observe(r,{childList:!0,subtree:!0})}catch(t){}try{window.CartCompatibility&&"function"==typeof window.CartCompatibility.schedule&&window.CartCompatibility.schedule(200)}catch(t){}f()}function b(){for(var t=['[data-node-type*="checkout" i]',".w-commerce-commercecartcheckoutbutton",'a[href*="checkout" i]'],e=0;e<t.length;e++){var a=document.querySelector(t[e]);if(a)try{return void a.click()}catch(t){}}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",h):h()}();